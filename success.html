<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta https-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank you!</title>
    <link rel="icon" href="Resources/Images/eurologo.png">
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <style>
      @font-face{
        font-family:P-Light;
        src: url('https://eshsrtiranga.github.io/fonts/Poppins-Light.woff') format('woff');
      }

      body {
        background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.9)),
        url("https://eshsrtiranga.github.io/Resources/Images/flagrun.jpg");
        background-attachment: fixed;
        background-position: center;
        background-size: cover;
        font-family: P-Light;
        color: rgb(255, 237, 215);
      }
      @keyframes starta {
        from {
          opacity: 0;
          transform: translateY(10px);
        }

        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .main {
        animation: starta 3000ms;
        margin: auto;
        width: 85%;
        position: absolute;
        top: 21%;
        left: 7.5%;
        background-color: transparent;
        border-radius: 10px;
        text-align: center;
        padding: 40px 0;
        /* box-shadow: 10px 10px 50px rgba(160, 160, 160, 0.384); */
      }

      .main h1 {
        font-size: 52px;
        margin-top: 20px;
        margin-bottom: 5%;
      }

      .main h3 {
        font-size: 30px;
        font-weight: 300;
        margin-bottom: 40px;
      }

      .main a {
        font-size: 18px;
        transition: 0.4s;
        text-decoration: none;
        color: rgb(255, 237, 215);
        border: rgb(255, 237, 215) solid 1px;
        padding: 9px 20px;
        border-radius: 22px;
      }

      .main a:hover {
        background-color: rgb(255, 237, 215);
        color: #5b2b0b;
        transition: 0.4s;
      }
      /* #endregion */

      @media (max-width: 700px) {
        body {
          background-size: cover;
        }
        .main {
          top: 18vh;
        }

        .main h1 {
          font-size: 28px;
        }

        .main h2 {
          padding: 10px;
          margin-right: 5px;
          margin-left: 5px;
          font-size: 20px;
        }

        .main h3 {
          font-size: 15px;
        }

        .main a {
          font-size: 13px;
        }
      }
    </style>


  </head>
  <body>

    
    
    <script>
      let name = localStorage.getItem("name");
      let address = localStorage.getItem("address");
      let number = localStorage.getItem("number");
      let email = localStorage.getItem("email");
      let events1 = JSON.parse(localStorage.getItem("events1"));
      let events2 = JSON.parse(localStorage.getItem("events2"));
      let events3 = JSON.parse(localStorage.getItem("events3"));
      let events4 = JSON.parse(localStorage.getItem("events4"));
      let events5 = JSON.parse(localStorage.getItem("events5"));
      let events6 = JSON.parse(localStorage.getItem("events6"));
      let transactionID = localStorage.getItem("Transaction ID");
      let nevents = localStorage.getItem("No. of Events");
      let cost = localStorage.getItem("Cost")
      
      var events1Dict = {C1DT:"C1-Dress up and Talk", C1C:"C1-Colouring"}
      var events2Dict = {C2DT:"C2-Dress up and Talk",C2C:"C2-Colouring",C2PR:"C2-Poem Recitation"}
      var events3Dict = {C3DP:"C3-Drawn and Painting",C3PS:"C3-Picture Speak",C3BW:"C3-Best of Waste"}
      var events4Dict = {C4MPS:"C4-Monument Pencil Sketching",C4FA:"C4-Flower Arrangement",C4R:"C4-Rangoli"}
      var events5Dict = {C5D:"C5-Declamation",C5FP:"C5-Face Painting"}
      var events6Dict = {C6GS:"C6-Group Song",C6GD:"C6-Group Dance",C6M:"C6-Mime", C6ALL:"C6-All"}


      if(transactionID == null)
        window.location = "/"
      else
      {
          formData = new FormData();
          formData.append("School Name",name);
          formData.append("Address",address);
          formData.append("Mobile Number",number);
          formData.append("Email",email);
          formData.append("No. of Events", nevents);
          formData.append("Total Cost", cost);
          formData.append("Transaction ID", transactionID);

          for(var key in events1)
          {
            if(events1[key] == true)
              formData.append(events1Dict[key], "Yes")
          }
          for(var key in events2)
          {
            if(events2[key] == true)
              formData.append(events2Dict[key], "Yes")
          }
          for(var key in events3)
          {
            if(events3[key] == true)
              formData.append(events3Dict[key], "Yes")
          }
          for(var key in events4)
          {
            if(events4[key] == true)
              formData.append(events4Dict[key], "Yes")
          }
          for(var key in events5)
          {
            if(events5[key] == true)
              formData.append(events5Dict[key], "Yes")
          }
          for(var key in events6)
          {
            if(events6[key] == true)
              formData.append(events6Dict[key], "Yes")
          }

      }

      const scriptURL = 'https://script.google.com/macros/s/AKfycbyeckWnOahFHJKPJILOGNVxpzSXB0T8J3jhlkUxiF-74VOPP8B8x735i-iFrnj4FBxakg/exec'

      fetch(scriptURL, { method: 'POST', body: formData})
                .then(response => console.log("Data sent"))
                .catch(error => console.error('Error!', error.message))

      localStorage.clear()

    </script>


    <div class="main">
      <h1>Thank You for registering!</h1>
      <a href="/">Home</a>
    </div>

    

  </body>
</html>
