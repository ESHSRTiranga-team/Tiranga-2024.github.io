<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta https-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank you!</title>
    <link rel="icon" href="Resources/Images/eurologo.png">
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <style>
      @font-face{
        font-family:P-Light;
        src: url('https://eshsrtiranga.github.io/fonts/Poppins-Light.woff') format('woff');
      }

      body {
        background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.9)),
        url("https://eshsrtiranga.github.io/Resources/Images/flagrun.jpg");
        background-attachment: fixed;
        background-position: center;
        background-size: cover;
        font-family: P-Light;
        color: rgb(255, 237, 215);
      }
      @keyframes starta {
        from {
          opacity: 0;
          transform: translateY(10px);
        }

        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .main {
        animation: starta 3000ms;
        margin: auto;
        width: 85%;
        position: absolute;
        top: 21%;
        left: 7.5%;
        background-color: transparent;
        border-radius: 10px;
        text-align: center;
        padding: 40px 0;
        /* box-shadow: 10px 10px 50px rgba(160, 160, 160, 0.384); */
      }

      .main h1 {
        font-size: 52px;
        margin-top: 20px;
        margin-bottom: 5%;
      }

      .main h3 {
        font-size: 30px;
        font-weight: 300;
        margin-bottom: 40px;
      }

      .main a {
        font-size: 18px;
        transition: 0.4s;
        text-decoration: none;
        color: rgb(255, 237, 215);
        border: rgb(255, 237, 215) solid 1px;
        padding: 9px 20px;
        border-radius: 22px;
      }

      .main a:hover {
        background-color: rgb(255, 237, 215);
        color: #5b2b0b;
        transition: 0.4s;
      }
      /* #endregion */

      @media (max-width: 700px) {
        body {
          background-size: cover;
        }
        .main {
          top: 18vh;
        }

        .main h1 {
          font-size: 28px;
        }

        .main h2 {
          padding: 10px;
          margin-right: 5px;
          margin-left: 5px;
          font-size: 20px;
        }

        .main h3 {
          font-size: 15px;
        }

        .main a {
          font-size: 13px;
        }
      }
    </style>


  </head>
  <body>

    
    
    <script>
      let name = localStorage.getItem("name");
      let address = localStorage.getItem("address");
      let number = localStorage.getItem("number");
      let email = localStorage.getItem("email");
      let events1 = JSON.parse(localStorage.getItem("events1"));
      let events2 = JSON.parse(localStorage.getItem("events2"));
      let events3 = JSON.parse(localStorage.getItem("events3"));
      let events4 = JSON.parse(localStorage.getItem("events4"));
      let events5 = JSON.parse(localStorage.getItem("events5"));
      let events6 = JSON.parse(localStorage.getItem("events6"));
      let transactionID = localStorage.getItem("Transaction ID");
      
      let cost = 0;
			let nevents = 0;

			for(var key in events1)
			{
				if(events1[key] == true && key =="C1PD")
				{
				cost += 100;
				nevents++;
				}
				if(events1[key] == true && key =="C1PR")
				{
				cost += 100;
				nevents++;
				}
				if(events1[key] == true && key =="C1RR")
				{
				cost += 100;
				nevents++;
				}
				if(events1[key] == true && key =="C1DD")
				{
				cost += 100;
				nevents++;
				}
			}
			for(var key in events2)
			{
				if(events2[key] == true && key =="C2DT")
				{
				cost += 100;
				nevents++;
				}
				if(events2[key] == true && key =="C2BW")
				{
				cost += 200;
				nevents++;
				}
				if(events2[key] == true && key =="C2SS")
				{
				cost += 100;
				nevents++;
				}
				if(events2[key] == true && key =="C2ST")
				{
				cost += 100;
				nevents++;
				}
			}
			for(var key in events3)
			{
				if(events3[key] == true && key =="C3SMM")
				{
				cost += 150;
				nevents++;
				}
				if(events3[key] == true && key =="C3BOW")
				{
				cost += 200;
				nevents++;
				}
				if(events3[key] == true && key =="C3PM")
				{
				cost += 100;
				nevents++;
				}
				if(events3[key] == true && key =="C3D")
				{
				cost += 100;
				nevents++;
				}
				if(events3[key] == true && key =="C3SOS")
				{
				cost += 100;
				nevents++;
				}
				if(events3[key] == true && key =="C3PS")
				{
				cost += 100;
				nevents++;
				}
				if(events3[key] == true && key =="C3FP")
				{
				cost += 100;
				nevents++;
				}
			}
			for(var key in events4)
			{
				if(events4[key] == true && key =="C4WM")
				{
				cost += 200;
				nevents++;
				}
				if(events4[key] == true && key =="C4MM")
				{
				cost += 200;
				nevents++;
				}
				if(events4[key] == true && key =="C4PM")
				{
				cost += 200;
				nevents++;
				}
				if(events4[key] == true && key =="C4D")
				{
				cost += 100;
				nevents++;
				}
				if(events4[key] == true && key =="C4SS")
				{
				cost += 100;
				nevents++;
				}
				if(events4[key] == true && key =="C4PS")
				{
				cost += 100;
				nevents++;
				}
				if(events4[key] == true && key =="C4FP")
				{
				cost += 100;
				nevents++;
				}
			}
			for(var key in events5)
			{
				if(events5[key] == true && key =="C5WM")
				{
				cost += 200;
				nevents++;
				}
				if(events5[key] == true && key =="C5MM")
				{
				cost += 200;
				nevents++;
				}
				if(events5[key] == true && key =="C5MaM")
				{
				cost += 200;
				nevents++;
				}
				if(events5[key] == true && key =="C5D")
				{
				cost += 100;
				nevents++;
				}
				if(events5[key] == true && key =="C5JAM")
				{
				cost += 100;
				nevents++;
				}
				if(events5[key] == true && key =="C5SS")
				{
				cost += 100;
				nevents++;
				}
				if(events5[key] == true && key =="C5Q")
				{
				cost += 200;
				nevents++;
				}
				if(events5[key] == true && key =="C5HTP")
				{
				cost += 100;
				nevents++;
				}
				if(events5[key] == true && key =="C5ST")
				{
				cost += 200;
				nevents++;
				}
			}
			for(var key in events6)
			{
				if(events6[key] == true && key != "C6WAI")
				{
				cost+=350;
				nevents++;
				}
				if(events6[key] == true && key == "C6WAI")
				{
				cost+=200;
				nevents++;
				}
			}
      
      var events1Dict = {C1DD:"C1-Dress up Day- Famous Personalities", C1PD:"C1-Play Dough", C1PR:"C1-Poem Recitation", C1RR:"C1-Reading Relay"}
      var events2Dict = {C2DT:"C2-Story Narration",C2BW:"C2-Best of Waste",C2SS:"C2-Solo Singing",C2ST:"C2-Show & Talk"}
      var events3Dict = {C3SMM:"C3-C3-Stop Motion Movie",C3BOW:"C3-Best of Waste",C3PM:"C3-Poster Making",C3D:"C3-Dance",C3SOS:"C3-Solo Singing",C3PS:"C3-Pick and Speak",C3FP:"C3-Face Painting"}
      var events4Dict = {C4WM:"C4-C4-Working Model",C4MM:"C4-Movie Making",C4PM:"C4-Poster Making",C4D:"C4-Dance",C4SS:"C4-Solo Singing",C4PS:"C4-Pick And Speak",C4FP:"C4-Face Painting"}
      var events5Dict = {C5WM:"C5-Working Model",C5MM:"C5-Movie Making",C5MaM:"C5-Mad Marketing",C5D:"C5-Declamation",C5JAM:"C5-JAM",C5S:"C5-Solo Singing",C5Q:"C5-Quiz",C5HTP:"C5-HTML Template Preparation",C5ST:"C5-Shark Tank"}
      var events6Dict = {C6D:"C6-Dance",C6B:"C6-Band",CWAI:"C6-Who am I"}


      if(transactionID == null)
        window.location = "/"
      else
      {
          formData = new FormData();
          formData.append("School Name",name);
          formData.append("Address",address);
          formData.append("Mobile Number",number);
          formData.append("Email",email);
          formData.append("No. of Events", nevents);
          formData.append("Total Cost", cost);
          formData.append("Transaction ID", transactionID);

          for(var key in events1)
          {
            if(events1[key] == true)
              formData.append(events1Dict[key], "Yes")
          }
          for(var key in events2)
          {
            if(events2[key] == true)
              formData.append(events2Dict[key], "Yes")
          }
          for(var key in events3)
          {
            if(events3[key] == true)
              formData.append(events3Dict[key], "Yes")
          }
          for(var key in events4)
          {
            if(events4[key] == true)
              formData.append(events4Dict[key], "Yes")
          }
          for(var key in events5)
          {
            if(events5[key] == true)
              formData.append(events5Dict[key], "Yes")
          }
          for(var key in events6)
          {
            if(events6[key] == true)
              formData.append(events6Dict[key], "Yes")
          }

      }

      const scriptURL = 'https://script.google.com/macros/s/AKfycbyeckWnOahFHJKPJILOGNVxpzSXB0T8J3jhlkUxiF-74VOPP8B8x735i-iFrnj4FBxakg/exec'
	     fetch(scriptURL, { method: 'POST', body: formData})
                .then(response => console.log("Data sent"))
                .catch(error => console.error('Error!', error.message))

      localStorage.clear()


    </script>


    <div class="main">
      <h1>Thank You for registering!</h1>
      <a href="/tiranga2024.github.io">Regirster for more</a>
    </div>

    

  </body>
</html>
